<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><%= link_to "Registries", registries_path %></li>
    <li class="breadcrumb-item"><%= link_to @registry.name, registry_packages_path(@registry.name) %></li>
    <li class="breadcrumb-item active" aria-current="page"><%= @package.name %></li>
  </ol>
</nav>

<div class="card mb-4">
  <div class="card-header">
    <h1 class="h4 mb-0">
      <code><%= @package.name %></code>
      <% if @package.status && @package.status != 'active' %>
        <span class="badge bg-warning ms-2 fs-6"><%= @package.status %></span>
      <% end %>
    </h1>
  </div>
  <div class="card-body">
    <% if @package.description_with_fallback.present? %>
      <p class="mb-3"><%= @package.description_with_fallback %></p>
    <% end %>

    <div class="row">
      <div class="col-md-4 mb-2">
        <strong>Ecosystem</strong><br>
        <span class="badge bg-primary fs-6"><%= @registry.name %></span>
      </div>
      <% if @package.latest_release_number %>
        <div class="col-md-4 mb-2">
          <strong>Latest Release</strong><br>
          <code><%= @package.latest_release_number %></code>
          <% if @package.latest_release_published_at %>
            <br><small class="text-muted" title="<%= @package.latest_release_published_at %>"><%= time_ago_in_words(@package.latest_release_published_at) %> ago</small>
          <% end %>
        </div>
      <% end %>
      <div class="col-md-4 mb-2">
        <strong>Versions</strong><br>
        <%= number_with_delimiter @package.versions_count %>
      </div>
      <% if @package.downloads && @package.downloads_period %>
        <div class="col-md-4 mb-2">
          <strong>Downloads</strong><br>
          <%= number_with_delimiter(@package.downloads) %> <%= download_period(@package.downloads_period) %>
        </div>
      <% end %>
      <% if @package.dependent_packages_count && @package.dependent_packages_count > 0 %>
        <div class="col-md-4 mb-2">
          <strong>Dependent Packages</strong><br>
          <%= number_with_delimiter(@package.dependent_packages_count) %>
        </div>
      <% end %>
      <% if @package.dependent_repos_count && @package.dependent_repos_count > 0 %>
        <div class="col-md-4 mb-2">
          <strong>Dependent Repos</strong><br>
          <%= link_to number_with_delimiter(@package.dependent_repos_count), "https://repos.ecosyste.ms/usage/#{@package.ecosystem}/#{@package.name}", target: :_blank %>
        </div>
      <% end %>
    </div>
  </div>
</div>
